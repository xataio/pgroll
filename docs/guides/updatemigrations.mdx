---
title: Update migration files
description: Guide to updating migration files in case of breaking changes are released in pgroll
---

In this guide, we are going to learn how to update `pgroll` migration files in case there is a breaking change in the latest release.

<Warning>
`pgroll` hasn't reached v1 yet, so we are releasing breaking changes from time to time. Adopting these changes can be painful manually. We suggest you use the subcommand `update` to make sure all your local migrations are correct.
</Warning>

We provide two ways to update your migration files. One way is to update your local unapplied migrations when you are in the middle of a development and you happened to update pgroll. Other method is to pull migration files from a remote PostgreSQL database, and update all migrations in the folder.

## Update unapplied migrations locally

Let's say that you are working on your latest feature, already written your migration file. Then you update `pgroll` to leverage the latest features and improvements of the fresh release. But the release also contains breaking changes that impact your local, unapplied migrations. In this case you can run `update {migrations-folder}`, and `pgroll` will go through all of your local, unapplied migrations and rewrite the operations that are no longer considered correct.

```sh
$ pgroll update {migrations-folder}
```

## Update migrations pulled from remote database

The other use case `pgroll` supports is when you are deploying a new database from scratch based on an existing database. You run `pgroll pull` to fetch all of the migrations. As it is an existing database it is possible that the migration history contains operations that are changed since the have been applied. Thus, these migration files must be updated so they can be applied to a new PostgreSQL database using the latest `pgroll` version.

First, run `pull` to fetch all migrations from the remote database:

```sh
$ pgroll pull {migrations-folder}
```

Then run `update` to update all files in the migrations folder:

```sh
$ pgroll update --local {migrations-folder}
```
